## ğŸ§  Real attack vector: **Gitea API misuse / auth bypass**

You already accessed:

`/swagger.v1.json`

Thatâ€™s gold.

---

## ğŸ” Step 1 â€” Enumerate Gitea version & config

Check:

```
curl http://code.fries.htb/api/v1/version
```

Expected:

`{"version":"1.22.6"}`

Ok

---

## ğŸ” Step 2 â€” Check unauthenticated API endpoints

#Attakiing_machine 
Run:

`curl http://code.fries.htb/api/v1/users`

You already did â€” users are visible without auth âœ”

Now check **tokens**:

`curl http://code.fries.htb/api/v1/users/dale/tokens`

and

`curl http://code.fries.htb/api/v1/users/administrator/tokens`

If tokens are exposed â†’ instant shell path.

You'll only get:

![[curltests.png]]

## ğŸ¯ The correct Gitea attack chain (HTB-style)

HTB loves this chain:

![[gitea_attack.png]]


---
## Enumerate API without auth


```
curl http://code.fries.htb/api/v1/users/dale  
```

{"id":2,"login":"dale","login_name":"","source_id":0,"full_name":"Dale Cooper","email":"dale@noreply.localhost","avatar_url":"http://code.fries.htb/avatars/542e61bab60b7a843701e5f9f4de098c","html_url":"http://code.fries.htb/dale","language":"","is_admin":false,"last_login":"0001-01-01T00:00:00Z","created":"2025-05-28T09:15:54Z","restricted":false,"active":false,"prohibit_login":false,"location":"","website":"","description":"","visibility":"public","followers_count":0,"following_count":0,"starred_repos_count":0,"username":"dale"}

Excellent â€” this response is **exactly** what we were hoping for.  
Youâ€™ve just confirmed a **real unauthenticated data leak** in Gitea.

Letâ€™s lock this in and move forward decisively.

---

## ğŸ”¥ What this confirms (very important)

You accessed:

`GET /api/v1/users/dale`

âœ… **WITHOUT authentication**

And received:

- Full user object
    
- Internal ID (`id: 2`)
    
- Account status flags
    
- Creation timestamp
    
- Username canonical form
    

This means:

> ğŸ”´ **The Gitea API is publicly readable for users**

Thatâ€™s **misconfigured** and **exploitable**.