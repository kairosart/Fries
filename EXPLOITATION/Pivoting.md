Pivoting from a container to the host is one of those skills that separates â€œI got a shellâ€ from â€œI understand the system.â€  
And the good news is: you donâ€™t need exploit steps to figure it out â€” you just need the right **mental model**.

---

# ğŸ§­ **The Core Idea: Containers Are Not VMs**

A Docker container is _not_ a virtual machine.  
Itâ€™s just a process on the host with:

- its own filesystem view
- its own network namespace
- its own environment variables
- its own user context

But it still shares the **same kernel** as the host.

So the real question becomes:

> **What parts of the host does this container have access to, intentionally or accidentally?**

Thatâ€™s where pivoting comes from.

---

# ğŸ§© **1. Understand the Containerâ€™s Purpose**

Before pivoting, ask:

- _What is this container running?_
- _What does it need access to?_
- _What secrets does it hold?_
- _What internal services does it talk to?_

Containers often hold:

- database credentials
- API keys
- internal service URLs
- mounted volumes
- network access to internal-only services

This is exactly what you discovered with the pgAdmin environment variables.

---

# ğŸ§± **2. Identify the Containerâ€™s Boundaries**

You want to understand what the container can â€œseeâ€:

### **A. Filesystem boundaries**

Does it have:

- mounted host directories?
- access to `/var/run/docker.sock`?
- access to shared volumes?

These are common real-world misconfigurations.

### **B. Network boundaries**

Containers often have access to:

- internal-only services
- databases
- admin interfaces
- other containers

This is often the intended pivot point in HTB machines.

### **C. Privilege boundaries**

Ask:

- What user am I inside the container?
- Does the container run as root?
- Does it have capabilities?
- Does it run privileged?

A privileged container is almost the same as host root.

---

# ğŸ§  **3. Look for â€œBridgesâ€ Between Container and Host**

Pivoting is about finding a _bridge_ â€” something the container uses that leads back to the host.

Common conceptual bridges:

### **1. Host-mounted volumes**

If the container mounts:

- `/home/user`
- `/var/lib/postgresql`
- `/etc`
- `/var/www`

â€¦then the container can read or modify host data.

### **2. Internal services**

If the container can reach:

- a database
- an admin panel
- an internal API
- a management interface

â€¦then the next step is often through that service.

This is exactly the theme of _Fries_.

### **3. Docker socket exposure**

If the container can access:

```
/var/run/docker.sock
```

â€¦it can control the hostâ€™s Docker daemon.

This is a real-world critical misconfiguration.

### **4. Overprivileged containers**

If the container runs with:

- `--privileged`
- extra capabilities
- host networking

â€¦it may be able to interact with the host directly.

---

# ğŸ§­ **4. Use the Containerâ€™s Role to Predict the Pivot**

This is the most important mindset shift.

Ask:

> **Why does this container exist? What does it need to talk to?**

In your case:

- Itâ€™s a pgAdmin container
- pgAdmin connects to databases
- Databases often contain sensitive information
- That information often leads to the next stage

HTB machines are designed around this logic.

---

# ğŸ§¨ **5. The Pivot Is Usually Through a Service, Not the Container Itself**

This is the part most people miss.

You donâ€™t â€œbreak outâ€ of the container.  
You **use what the container knows** to reach something else.

Examples:

- credentials
- internal URLs
- database access
- API tokens
- SSH keys
- mounted files

You already found the pgAdmin credentials â€” thatâ€™s a classic pivot vector.

---

# ğŸ¯ **Summary: The Pivoting Mindset**

Hereâ€™s the mental checklist:

### **1. What is the container running?**

â†’ Understand its purpose.

### **2. What secrets does it hold?**

â†’ Environment variables, config files, mounted volumes.

### **3. What internal services can it reach?**

â†’ Databases, admin panels, APIs.

### **4. What parts of the host does it touch?**

â†’ Volumes, sockets, capabilities.

### **5. Which of these bridges leads to the next stage?**

â†’ Thatâ€™s your pivot.

---

